
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Igapó XYZ &mdash; GIS</title>
  <meta name="viewport" content="width=device-width, maximum-scale=1.0">
  <meta name="description" content="Sistema de informação geográfica">
  <meta name="author" content="Igapó Tech">
  <link rel="shortcut icon" href="/images/favicon.png" />
  <!-- <link rel="icon" type="image/x-icon" href="/images/favicon.png"> -->

  <link rel="stylesheet" href="/leaflet.css" />
  <script src="/leaflet.js"></script>

  <script defer src="/__/firebase/9.8.3/firebase-app-compat.js"></script>
  <script defer src="/__/firebase/9.8.3/firebase-analytics-compat.js"></script>
  <script defer src="/__/firebase/init.js?useEmulator=true"></script>

  <style>
    html, body { height: 100%; width: 100%; }

    body {
      user-select: none;
      text-rendering: optimizeLegibility;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      margin: 0;
      padding: 0;
    }

    #map { width: 100%; height: 100%; }

    #mc_embed_signup {
      width: 320px;
      text-align: center;
      margin: 0 auto;
      position: absolute;
      top: 87%;
      left: 50%;
      transform: perspective(1px) translateY(-50%) translateX(-50%);
      z-index: 999;
      background: rgb(255 255 255 / 75%);
      box-shadow: 0 3px 14px rgb(0 0 0 / 40%);
      border-radius: 12px;
      padding-top: 10px;
    }

    #mc_embed_signup form {
      padding: 0 10px !important;
    }

    .mc-field-group label {
      margin: 0 0 10px 0 !important;
    }

    #mc_embed_signup .mc-field-group {
      width: 100% !important;
    }

    #mc_embed_signup .button {
      background-color: #2d5929 !important;
    }

    .popup {
      font-size: 1.5em;
      text-align: center;
    }
  </style>
  <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7_dtp.css" rel="stylesheet" type="text/css">
</head>

<body>
  <div id="mc_embed_signup">
    <form action="https://xyz.us8.list-manage.com/subscribe/post?u=00ebdd87fcdd7db91807f99fe&amp;id=5103ec5b52"
      method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank"
      novalidate>
      <div id="mc_embed_signup_scroll">
        <div class="mc-field-group">
          <label for="mce-EMAIL">Novidades? Deixe seu email:</label>
          <input type="email" value="" name="EMAIL" class=" email" id="mce-EMAIL">
        </div>
        <div id="mce-responses" class="clear foot">
          <div class="response" id="mce-error-response" style="display:none"></div>
          <div class="response" id="mce-success-response" style="display:none"></div>
        </div>
        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"
            name="b_00ebdd87fcdd7db91807f99fe_5103ec5b52" tabindex="-1" value=""></div>
        <div class="optionalParent">
          <div class="clear foot">
            <input type="submit" value="Se Inscrever" name="subscribe" id="mc-embedded-subscribe" class="button">
          </div>
        </div>
      </div>
    </form>
  </div>

  <div id="map"></div>

  <script>
    var
      initial_center = [-23.3463044,-51.1417142],
      maxZoom = 17,
      common_attribution = 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.'
    ;

    var watercolor = L.tileLayer('https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png', {
      maxZoom: 16,
      attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.'
    });

    var terrain = L.tileLayer('https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png', {
      maxZoom: 16,
      attribution: common_attribution
    });
    
    var toner = L.tileLayer('https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png', {
      maxZoom: 16,
      attribution: common_attribution
    });

    // var rgb = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
    //   attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
    // });

    var google = L.tileLayer('http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
      subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],
      maxZoom: 21,
      attribution: 'Google Maps'
    });

    // initialize the map on the "map" div with a given center and zoom
    var map = L.map('map', {
      center: initial_center,
      zoom: 16,
      zoomControl: false,
      attributionControl: false,
      layers: [google]
    });

    var baseMaps = {
      "Google Maps": google,
      "Terrain": terrain,
      "Toner": toner,
      "Watercolor": watercolor,
      // "RGB": rgb,
    };

    L.control.layers(baseMaps).addTo(map);
    L.control.attribution({ prefix: '<a href="https://leafletjs.com/">Leaflet</a>' }).addTo(map);
    L.control.scale({ position: 'topleft' }).addTo(map);

    var popup_options = { closeButton: false, closeOnClick: false, closeOnEscapeKey: false };
    var animation_timeout = 6000;

    function start_animation() {
      L.popup(popup_options)
        .setLatLng(initial_center)
        .setContent("<div class='popup'>Ambiental</div>")
        .openOn(map);

      setTimeout(function () {
        var construction_center = [-23.3322167,-51.173735];

        map.flyTo(construction_center);

        L.popup(popup_options)
          .setLatLng(construction_center)
          .setContent("<div class='popup'>Construção</div>")
          .openOn(map);

        setTimeout(function () {
          var agro_center = [-23.337771, -51.200775];

          map.flyTo(agro_center, 15);

          L.popup(popup_options)
            .setLatLng(agro_center)
            .setContent("<div class='popup'>Agro</div>")
            .openOn(map);

          setTimeout(function () {
            var services_center = [-23.3683204, -51.0079171];

            map.flyTo(services_center, 13);

            L.popup(popup_options)
              .setLatLng(services_center)
              .setContent("<div class='popup'>Serviços</div>")
              .openOn(map);

            setTimeout(function () {
              map.flyTo(initial_center, 16);
              start_animation();
            }, animation_timeout);
          }, animation_timeout);
        }, animation_timeout);
      }, animation_timeout);
    }

    start_animation();

  </script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      firebase.analytics();
    });
  </script>

  <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
  <script type='text/javascript'>(function ($) { window.fnames = new Array(); window.ftypes = new Array(); fnames[0] = 'EMAIL'; ftypes[0] = 'email'; fnames[1] = 'FNAME'; ftypes[1] = 'text'; fnames[2] = 'LNAME'; ftypes[2] = 'text'; fnames[3] = 'ADDRESS'; ftypes[3] = 'address'; fnames[4] = 'PHONE'; ftypes[4] = 'phone'; fnames[5] = 'BIRTHDAY'; ftypes[5] = 'birthday'; }(jQuery)); var $mcj = jQuery.noConflict(true);</script>

</body>

</html>
